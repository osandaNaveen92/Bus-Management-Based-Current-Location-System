<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="css/admin.css" />
</head>
<body>
  <div class="main-container">
    <!-- Sidebar Menu -->
  <aside class="sidebar">
    <div class="logo-section">
      <img src="./shared/assets/logo.png" alt="GoFlow Logo" class="logo" />
    </div>

    <ul class="menu">
      <li><a href="#" id="adminProfileMenu">Admin Profile</a></li>
      <li><a href="#" id="registerDriverMenu" class="menu-active">Register Driver</a></li>
      <li><a href="#" id="registeredDriversMenu">Registered Drivers</a></li>
      <li><a href="#" id="logoutNav" class="logout-nav">Logout</a></li>
    </ul>
  </aside>

    <!-- Header Content -->
  <div class="content">
    <div class="header">
      <span class="dashboard-title">Admin Dashboard</span>
    </div>


      <!-- Admin Profile Section -->
      <div class="admin-profile-section" id="adminProfileSection" style="display:none;">
        <h3>Admin Profile</h3>
        
        <div class="profile-container">
          <!-- View Profile -->
          <div class="profile-view" id="profileView">
            <div class="profile-card">
              <div class="profile-header">
                <div class="profile-avatar">
                  <span id="adminInitials">AN</span>
                </div>
                <div class="profile-basic-info">
                  <h4 id="adminNameDisplay">Loading...</h4>
                  <p id="adminEmailDisplay">Loading...</p>
                </div>
                <button type="button" id="editProfileBtn" class="edit-btn">Edit Profile</button>
              </div>
              
              <div class="profile-details">
                <div class="detail-item">
                  <span class="detail-label">Name:</span>
                  <span class="detail-value" id="profileName">-</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Email:</span>
                  <span class="detail-value" id="profileEmail">-</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Phone:</span>
                  <span class="detail-value" id="profilePhone">-</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Role:</span>
                  <span class="detail-value">Admin</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Profile Form -->
          <div class="profile-edit" id="profileEdit" style="display:none;">
            <form id="updateProfileForm" class="profile-form">
              <h4>Update Profile Information</h4>
              
              <div class="form-group">
                <label for="update_name">Full Name:</label>
                <input type="text" id="update_name" placeholder="Enter your full name" required />
              </div>
              
              <div class="form-group">
                <label for="update_phone">Phone Number:</label>
                <input type="text" id="update_phone" placeholder="Enter your phone number" required />
              </div>
              
              <div class="form-group">
                <label for="update_email">Email Address:</label>
                <input type="email" id="update_email" placeholder="Enter your email" required />
                <small class="form-note">Note: Changing email will require re-authentication</small>
              </div>
              
              <div class="form-actions">
                <button type="button" id="cancelEditBtn" class="cancel-btn">Cancel</button>
                <button type="submit" class="save-btn">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Register Driver Section -->
      <div class="register-driver-section" id="registerDriverSection">
        <h3>Create New Driver</h3>
        <form id="createDriverForm" class="driver-form">
          <div class="form-group">
            <input type="text" id="driver_name" placeholder="Driver Name" required />
          </div>
          <div class="form-group">
            <input type="email" id="driver_email" placeholder="Driver Email" required />
          </div>
          <div class="form-group">
            <input type="text" id="driver_phone" placeholder="Phone Number" required />
          </div>
          <div class="form-group">
            <input type="password" id="driver_password" placeholder="Password" required />
          </div>
          <button type="submit" class="create-btn">Create Driver</button>
        </form>
      </div>

      <!-- Registered Drivers Section -->
      <div class="registered-drivers-section" id="registeredDriversSection" style="display:none;">
        <h3>Registered Drivers</h3>
        
        <!-- Search Bar -->
        <div class="search-container">
          <input type="text" id="searchDriver" placeholder="Search driver by name..." />
          <button type="button" id="clearSearch">Clear</button>
        </div>

        <!-- Drivers List -->
        <div class="drivers-container">
          <div id="driversCount" class="drivers-count">Total Drivers: 0</div>
          <div id="driversList" class="drivers-list">
            <!-- Drivers will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase Scripts -->
  <script type="module" src="js/firebase-config.js"></script>
  <script type="module" src="js/admin.js"></script>
</body>
</html>